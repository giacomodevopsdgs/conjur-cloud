pipeline {
  agent any

  triggers {
    // Polling disabled if you use webhooks â€“ feel free to remove
    pollSCM('H/5 * * * *')
  }

  stages {
    stage('Checkout') {
      steps {
        // Simply grab whatever branch triggered the build
        checkout scm
      }
    }

    stage('Build') {
      steps {
        // Simulate a buildâ€”replace with your real build commands
        echo "ğŸ›   Building..."
      }
    }

    stage('Test') {
      steps {
        // Simulate testsâ€”replace with your real test commands
        echo "âœ…  Running tests..."
      }
    }

    stage('Deploy') {
      steps {
        // Dummy deploy step
        echo "ğŸš€  (Pretend) Deploying to staging"
      }
    }
  }

  post {
    success {
      echo "ğŸ‰  Build succeeded!"
    }
    failure {
      echo "âŒ  Build failed!"
    }
  }
}
